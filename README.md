–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ Sports Bot
üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ö–æ–º–∞–Ω–¥—ã

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

üöÄ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
Sports Bot - –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

üì¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –∫–∞–Ω–∞–ª

üí¨ –£–º–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (FSM)

üéÆ –ú–∏–Ω–∏-–∏–≥—Ä—ã –¥–ª—è —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è

‚öΩ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
sports_bot/
‚îú‚îÄ‚îÄ main.py              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ database.py          # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ private_chat.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ group.py            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ channel.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–∞–Ω–∞–ª–∞
‚îú‚îÄ‚îÄ keyboards.py        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –∫–Ω–æ–ø–∫–∏
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ bot.db            # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ last_entries.pkl  # –ö—ç—à RSS –Ω–æ–≤–æ—Å—Ç–µ–π
‚îî‚îÄ‚îÄ bot.log           # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
Python 3.8+

Telegram –±–æ—Ç —Ç–æ–∫–µ–Ω

Telegram –∫–∞–Ω–∞–ª (–¥–ª—è RSS –Ω–æ–≤–æ—Å—Ç–µ–π)

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
git clone <repository-url>
cd sports_bot

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

env
TOKEN=your_telegram_bot_token_here
CHANNEL_ID=@your_channel_username
ADMIN_IDS=123456789,987654321
4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
bash
# –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—É—Å–∫
python main.py

# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ (Linux/Mac)
nohup python main.py &

# –ó–∞–ø—É—Å–∫ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏ venv\Scripts\activate  # Windows
pip install -r requirements.txt
python main.py
üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è	–û–ø–∏—Å–∞–Ω–∏–µ	–ü—Ä–∏–º–µ—Ä
TOKEN	–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather	123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
CHANNEL_ID	ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π	@sports_news
ADMIN_IDS	ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é	123456789,987654321
–ü–æ–ª—É—á–µ–Ω–∏–µ Telegram ID
python
# –í—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID
import asyncio
from aiogram import Bot

async def get_id():
    bot = Bot(token="YOUR_TOKEN")
    me = await bot.get_me()
    print(f"Bot ID: {me.id}")
    # –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

asyncio.run(get_id())
üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
üìç –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–æ—Ç–∞

–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å —Å –∞–¥–º–∏–Ω–∞–º–∏

–ú–∏–Ω–∏-–∏–≥—Ä—ã (—É–≥–∞–¥–∞–π —á–∏—Å–ª–æ, —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

üë• –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
–ê–≤—Ç–æ–º–æ–¥–µ—Ä–∞—Ü–∏—è - —Ñ–∏–ª—å—Ç—Ä –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤

–ò–≥—Ä—ã - —É–≥–∞–¥–∞–π —á–∏—Å–ª–æ –¥–ª—è –≥—Ä—É–ø–ø—ã

–°—Ç–∞—Ç—É—Å –∏–≥—Ä - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä

üì¢ –ö–∞–Ω–∞–ª
RSS –Ω–æ–≤–æ—Å—Ç–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è

–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
CREATE TABLE user_stats (
    user_id INTEGER PRIMARY KEY,
    username TEXT,
    first_name TEXT,
    last_name TEXT,
    messages_count INTEGER DEFAULT 0,
    warnings_count INTEGER DEFAULT 0,
    first_seen TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_seen TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
CREATE TABLE feedback (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    message TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user_stats (user_id)
);

-- –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE user_actions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    action_type TEXT,
    details TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user_stats (user_id)
);
–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î —á–µ—Ä–µ–∑ SQLite
sqlite3 bot.db

.tables                    # –ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
.schema user_stats         # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
SELECT * FROM user_stats;  # –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
üîÑ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
python
class FeedbackState(StatesGroup):
    waiting_for_feedback = State()

class GameState(StatesGroup):
    waiting_for_guess = State()
    playing_number_game = State()

class SettingsState(StatesGroup):
    waiting_for_language = State()
    waiting_for_notifications = State()

class SupportState(StatesGroup):
    waiting_for_support_message = State()

class AdminState(StatesGroup):
    waiting_for_user_id = State()
    waiting_for_broadcast_message = State()
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è FSM
python
@dp.message(F.text == "üéØ –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ")
async def start_number_game(message: types.Message, state: FSMContext):
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    await state.set_state(GameState.playing_number_game)
    await state.update_data(secret_number=42, attempts=0)

@dp.message(GameState.playing_number_game)
async def process_guess(message: types.Message, state: FSMContext):
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–≥—Ä—ã
    data = await state.get_data()
    # ... –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
‚å®Ô∏è –ö–æ–º–∞–Ω–¥—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
–ö–æ–º–∞–Ω–¥–∞	–û–ø–∏—Å–∞–Ω–∏–µ	–î–æ—Å—Ç—É–ø
/start	–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º	–í—Å–µ
/help	–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º	–í—Å–µ
/support	–°–≤—è–∑—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π	–í—Å–µ
/guess <—á–∏—Å–ª–æ>	–£–≥–∞–¥–∞—Ç—å —á–∏—Å–ª–æ	–í—Å–µ
/game_status	–°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã –≤ –≥—Ä—É–ø–ø–µ	–ì—Ä—É–ø–ø—ã
–ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
–ö–æ–º–∞–Ω–¥–∞	–û–ø–∏—Å–∞–Ω–∏–µ	–î–æ—Å—Ç—É–ø
/users	–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π	–ê–¥–º–∏–Ω—ã
/broadcast	–†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π	–ê–¥–º–∏–Ω—ã
/bot_stats	–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞	–ê–¥–º–∏–Ω—ã
/debug_db	–û—Ç–ª–∞–¥–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö	–ê–¥–º–∏–Ω—ã
/user_info <id>	–ò–Ω—Ñ–æ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ	–ê–¥–º–∏–Ω—ã
/restart_rss	–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ RSS	–ê–¥–º–∏–Ω—ã
/db_backup	–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ë–î	–ê–¥–º–∏–Ω—ã
üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
INFO - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

SUCCESS - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

WARNING - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

ERROR - –æ—à–∏–±–∫–∏

CRITICAL - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
bash
# –†–µ–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
tail -f bot.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" bot.log

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–æ–≥–æ–≤
grep -c "INFO" bot.log
–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤
text
2025-01-15 10:30:45 | INFO | –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...
2025-01-15 10:30:46 | SUCCESS | –ë–æ—Ç @sports_bot —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!
2025-01-15 10:31:02 | INFO | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 123456789 –Ω–∞—á–∞–ª —á–∞—Ç
2025-01-15 10:31:05 | INFO | –ù–æ–≤–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞: –§—É—Ç–±–æ–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
–î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–π—Ç–µ FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–û–±–Ω–æ–≤–∏—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ keyboards.py

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º
python
# –í—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
@dp.message(Command('debug'))
async def debug_command(message: types.Message):
    user_id = message.from_user.id
    await message.answer(f"Debug info:\nUser ID: {user_id}\nState: {await state.get_state()}")
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
ps aux | grep python

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f bot.log | grep -E "(ERROR|CRITICAL)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sqlite3 bot.db "SELECT COUNT(*) FROM user_stats;"
üîÑ RSS —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ RSS
python
# –í main.py - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
RSS_FEED_URL = "https://www.sports.ru/rss/all_news.xml"
CHECK_INTERVAL = 300  # 5 –º–∏–Ω—É—Ç
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö RSS –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ fetch_news() –≤ main.py
feeds = [
    "https://www.sports.ru/rss/all_news.xml",
    "https://example.com/another-feed.xml"
]
üì± –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
get_main_keyboard() - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

get_games_keyboard() - –∏–≥—Ä—ã

get_settings_keyboard() - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

get_back_keyboard() - –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥

–ò–Ω–ª–∞–π–Ω –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
get_channel_inline_keyboard() - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª

get_feedback_inline_keyboard() - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

get_notifications_keyboard() - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

get_language_keyboard() - –≤—ã–±–æ—Ä —è–∑—ã–∫–∞

üöÄ –î–µ–ø–ª–æ–π
–ù–∞ VPS (Ubuntu)
bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python
sudo apt install python3 python3-pip python3-venv -y

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
scp -r sports_bot/ user@server:/home/user/

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/sports-bot.service
systemd —Å–µ—Ä–≤–∏—Å
ini
[Unit]
Description=Sports Telegram Bot
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/sports_bot
Environment=PATH=/home/ubuntu/sports_bot/venv/bin
ExecStart=/home/ubuntu/sports_bot/venv/bin/python main.py
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
bash
sudo systemctl daemon-reload
sudo systemctl enable sports-bot
sudo systemctl start sports-bot
sudo systemctl status sports-bot
üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
sudo systemctl restart sports-bot

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u sports-bot -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
sudo systemctl status sports-bot

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
cp bot.db backup_$(date +%Y%m%d_%H%M%S).db
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
bash
# –ü–∞–º—è—Ç—å –∏ CPU
htop

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -tulpn
